import{j as o}from"./jsx-runtime.TBa3i5EZ.js";import{r as l}from"./index.CVf8TyFT.js";const c=new Map;async function y(e){if(c.has(e))return c.get(e);try{const n=await fetch(`/tooltips/${e}.json`);if(!n.ok)return null;const r=await n.json();return c.set(e,r),r}catch{return null}}function b(){const[e,n]=l.useState(null),r=l.useRef(null);if(l.useEffect(()=>{const d=async a=>{const i=a.target.closest("a[data-entity-slug]");if(!i)return;const p=i.getAttribute("data-entity-slug");if(!p)return;r.current&&clearTimeout(r.current);const m=await y(p);if(!m)return;const s=i.getBoundingClientRect();n({data:m,x:s.left+s.width/2+window.scrollX,y:s.top+window.scrollY-8,visible:!0})},u=a=>{a.target.closest("a[data-entity-slug]")&&(r.current=setTimeout(()=>n(null),200))};return document.addEventListener("mouseover",d),document.addEventListener("mouseout",u),()=>{document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",u)}},[]),!e?.visible)return null;const{data:t,x:f,y:x}=e;return o.jsxs("div",{className:"entity-tooltip-container",style:{position:"absolute",left:f,top:x,transform:"translate(-50%, -100%)",zIndex:10001,pointerEvents:"none",maxWidth:"300px",animation:"tooltip-fade-in 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsxs("div",{style:{background:"rgba(19, 19, 26, 0.98)",backdropFilter:"blur(12px)",border:`1px solid ${t.accentColor}33`,borderTop:`3px solid ${t.accentColor}`,borderRadius:"8px",padding:"12px 16px",boxShadow:`0 12px 48px rgba(0,0,0,0.8), 0 0 20px ${t.accentColor}15`},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:o.jsx("span",{style:{fontSize:"0.65rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.15em",color:t.accentColor,background:`${t.accentColor}15`,padding:"2px 8px",borderRadius:"4px",border:`1px solid ${t.accentColor}25`},children:t.type})}),o.jsx("div",{style:{fontFamily:"'Cinzel', serif",fontWeight:700,fontSize:"1rem",color:"#F5F0E8",marginBottom:"6px",letterSpacing:"0.02em",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:t.name}),t.summary&&o.jsxs("div",{style:{fontFamily:"'Lora', serif",fontSize:"0.875rem",lineHeight:"1.5",color:"#9A9A9A",fontStyle:"italic",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:[t.summary.slice(0,150),t.summary.length>150?"â€¦":""]})]}),o.jsx("style",{children:`
        @keyframes tooltip-fade-in {
          from { opacity: 0; transform: translate(-50%, -95%); }
          to { opacity: 1; transform: translate(-50%, -100%); }
        }
      `})]})}export{b as default};
